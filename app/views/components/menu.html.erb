<% content_for :title, "Menu Component" %>

<div class="top-level-container">
  <h1 class="hide@native margin-bs-xl text-large-title">Menu Component</h1>
  <p>This screen contains a menu associated with a Bridge <code>menu</code> component. The page contains a button below to open a web-based menu that contains several options to choose from.</p>
  <p>Since the Hotwire Native demo app supports the <code>menu</code> component, the web menu is hidden and replaced with a natively displayed menu. Tapping on a native menu option replies back to the web <code>menu</code> component with the <code>selectedIndex</code> of the selected option.</p>
  <p>Displaying the menu in a native bottom sheet is a typical convention in mobile apps. It blocks touch input for all controls on the screen and allows platform gestures to dismiss the sheet.</p>

  <div data-controller="menu bridge--menu">
    <button class="button" data-action="click->bridge--menu#show click->menu#show">Open Menu</button>

      <div class="margin-bs-l text-title" data-menu-target="result">
        <!-- Result for selected item here. -->
      </div>

      <dialog class="dialog" data-menu-target="dialog" data-action="click@window->menu#hideOnClickOutside">
        <div class="dialog__content" data-menu-target="dialogContent">
          <p data-bridge--menu-target="title">Select an option</p>
          <button
            class="button"
            data-menu-target="item"
            data-bridge--menu-target="item"
            data-action="click->menu#itemSelected">Option One</button>
          <button
            class="button"
            data-menu-target="item"
            data-bridge--menu-target="item"
            data-action="click->menu#itemSelected">Option Two</button>
          <button
            class="button"
            data-menu-target="item"
            data-bridge--menu-target="item"
            data-action="click->menu#itemSelected">Option Three</button>
          <button
            class="button"
            data-menu-target="item"
            data-bridge--menu-target="item"
            data-action="click->menu#itemSelected">Option Four</button>
        </div>
        <form class="dialog__close-button" method="dialog">
          <button class="unstyled-button"><%= icon_tag "xmark", size: :small %></button>
        </form>
      </dialog>
  </div>
</div>
