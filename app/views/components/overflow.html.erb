<% content_for :title, "Overflow Component" %>

<div class="top-level-container">
  <h1 class="hide@native margin-bs-xl text-large-title">Overflow Component</h1>
  <p>This screen contains a button associated with a Bridge <code>overflow-menu</code> component. The page also contains a web-based menu associated with a Bridge <code>menu</code> component that contains several options to choose from.</p>
  <p>Since the Hotwire Native demo app supports the <code>overflow-menu</code> component and the <code>menu</code> component, the web button to open the menu is hidden and replaced with a native 3-dot menu in the top-right native app bar. Tapping on that 3-dot menu will display a native menu driven by the <code>menu</code> component.</p>
  <p>Hiding the <code>menu</code> options behind the 3-dot <code>overflow-menu</code> is a typical convention in mobile apps. It provides a common place for infrequently used actions and makes more room on the screen for more important actions.</p>

  <div data-controller="menu bridge--menu">
    <button
      class="button"
      data-controller="bridge--overflow-menu"
      data-action="click->bridge--menu#show click->menu#show"
      data-bridge-title="Options">Open Menu</button>

      <div class="margin-bs-l text-title" data-menu-target="result">
        <!-- Result for selected item here. -->
      </div>

      <dialog class="dialog" data-menu-target="dialog" data-action="click@window->menu#hideOnClickOutside">
        <div class="dialog__content" data-menu-target="dialogContent">
          <p data-bridge--menu-target="title">Select an option</p>
          <button
            class="button"
            data-menu-target="item"
            data-bridge--menu-target="item"
            data-action="click->menu#itemSelected">Option One</button>
          <button
            class="button"
            data-menu-target="item"
            data-bridge--menu-target="item"
            data-action="click->menu#itemSelected">Option Two</button>
          <button
            class="button"
            data-menu-target="item"
            data-bridge--menu-target="item"
            data-action="click->menu#itemSelected">Option Three</button>
          <button
            class="button"
            data-menu-target="item"
            data-bridge--menu-target="item"
            data-action="click->menu#itemSelected">Option Four</button>
        </div>
        <form class="dialog__close-button" method="dialog">
          <button class="unstyled-button"><%= icon_tag "xmark", size: :small %></button>
        </form>
      </dialog>
  </div>
</div>
